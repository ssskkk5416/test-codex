# 東京都犯罪情報ダッシュボード

このリポジトリには、東京都の犯罪データをアップロードして可視化できる Streamlit アプリケーションが含まれています。CSV もしくは Excel ファイルをブラウザ上からアップロードすることで、区ごとの犯罪状況をダッシュボード形式で確認できます。

## セットアップ

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

## アプリの起動

```bash
streamlit run streamlit_app.py
```

ブラウザが自動で開かない場合は、表示された URL (通常は `http://localhost:8501`) にアクセスしてください。

## 使い方

1. 画面左上のファイルアップロードコンポーネントから CSV または Excel ファイルをアップロードします。
2. 区名、犯罪種別、概要、関連事例、緯度・経度など、データに含まれる列をプルダウンから選択します。
3. 表示したい区や犯罪種別を選択すると、左上のマップ、左下の区一覧、右上の概要カード、右下の関連事例候補が自動で更新されます。
4. 概要列を指定すると、右上で個別の概要を選択でき、右下にはその概要と内容が近い事例が提示されます。
5. ファイルを差し替えたい場合は、再度アップロードしてください。

アップロードされたファイルはセッション内のみで扱われ、サーバーには保存されません。

### CSV 読み込みの注意点

アップロードした CSV の形式に問題がある場合は、自動的に解析モードを切り替えて読み込みを試みます。列数が合わない行が含まれているときは該当行を除外して進み、画面上に警告を表示します。警告が出た場合は、元データを確認して必要に応じて修正してください。
